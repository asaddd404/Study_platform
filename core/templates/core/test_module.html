{% load static %}
<div class="lesson-content-card">
    <h1>Тестирование модуля: {{ module.title }}</h1>
    
    <div class="lesson-assignment"> <h3 style="margin-top:0;">{{ test.title }}</h3>
        <p style="color: var(--color-text-muted);">{{ test.description|linebreaks }}</p>
    </div>

    <form method="post" 
          hx-post="{% url 'core:test_module' module.id %}" 
          hx-target="#lesson-main-content"
          hx-swap="innerHTML"
          style="margin-top: var(--spacing-6);">
        
        {% csrf_token %}
        
        {% for question in test.questions.all %}
            <div style="margin-bottom: var(--spacing-4);">
                <label for="answer_{{ question.id }}" style="display: block; margin-bottom: var(--spacing-2); font-weight: 500;">{{ forloop.counter }}. {{ question.text }}</label>
                <input type="text" name="answer_{{ question.id }}" id="answer_{{ question.id }}" placeholder="Ваш ответ" required>
            </div>
        {% endfor %}
        
        <button type="submit" class="btn btn-primary" style="margin-top: var(--spacing-4);">Отправить тест</button>
    </form>
</div>