{% extends 'core/base.html' %}
{% load static %}

{% block content %}
<div class="container mt-4">
    <h2>Уроки для курса: {{ course.title }}</h2>
    
    <div class="list-group">
        {% for lesson in lessons %}
            <div class="list-group-item list-group-item-action flex-column align-items-start">
                <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1">{{ lesson.title }}</h5>
                    <small>Модуль: {{ lesson.module.title }}</small>
                </div>
                <p class="mb-1">{{ lesson.description|truncatewords:30 }}</p>
                <div>
                    <a href="{% url 'core:teacher_lesson_update' lesson.id %}" class="btn btn-sm btn-primary">Редактировать</a>
                    <a href="{% url 'core:teacher_lesson_delete' lesson.id %}" class="btn btn-sm btn-danger">Удалить</a>
                </div>
            </div>
        {% empty %}
            <p class="list-group-item">Для этого курса уроков пока нет.</p>
        {% endfor %}
    </div>

    <a href="{% url 'core:teacher_lesson_create' %}" class="btn btn-success mt-3">Добавить новый урок</a>
    <a href="{% url 'core:profile' %}" class="btn btn-secondary mt-3">Назад к панели</a>
</div>
{% endblock %}