{% load static %}
<div class="lesson-content-card"> {% if lesson.video_url %}
        <div class="lesson-video-wrapper">
            <iframe src="{{ lesson.video_url }}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
    {% endif %}

    <h1>{{ lesson.title }}</h1>

    <div class="lesson-prose mb-8">
        {{ lesson.content|default:"Описание отсутствует"|safe }}
    </div>

    <div class="lesson-assignment">
        <h3>Задание</h3>
        <div class="lesson-prose"> {{ lesson.assignment|default:"Задание для этого урока будет добавлено позже."|safe }}
        </div>
    </div>

    <div class="lesson-resources">
        <h3>Материалы для самообучения</h3>
        {% if lesson.resources.exists %}
            <ul>
                {% for resource in lesson.resources.all %}
                    <li>
                        <a href="{{ resource.url|default:resource.file.url }}" target="_blank" class="font-medium">
                            {{ resource.title }}
                        </a>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p style="color: var(--color-text-muted);">Материалы отсутствуют.</p>
        {% endif %}
    </div>
</div>
